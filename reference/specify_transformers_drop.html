<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Specify which tokens must be absent for a transformer to be dropped — specify_transformers_drop • styler</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Specify which tokens must be absent for a transformer to be dropped — specify_transformers_drop" />
<meta property="og:description" content="{styler} can remove transformer functions safely removed from the list of
transformers to be applied on every nest with transformers_drop() if the
tokens that trigger a manipulation of the parse data are absent in the text
to style. specify_transformers_drop() helps you specify these
conditions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">styler</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/styler.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/detect-alignment.html">Alignment detection</a>
    </li>
    <li>
      <a href="../articles/strict.html">The effect of `strict = FALSE`</a>
    </li>
    <li>
      <a href="../articles/third-party-integrations.html">Third-party integrations</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Developers</li>
    <li>
      <a href="../articles/caching.html">Caching</a>
    </li>
    <li>
      <a href="../articles/customizing_styler.html">Customizing styler</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2017/12/styler-1.0.0/">Version 1.0.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2019/11/styler-1-2-0/">Version 1.2.0</a>
    </li>
    <li>
      <a href="https://lorenzwalthert.netlify.com/post/styler-1-3-0/">Version 1.3.0</a>
    </li>
    <li>
      <a href="https://lorenzwalthert.netlify.app/post/styler-1-4-0/">Version 1.4.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/styler/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Specify which tokens must be absent for a transformer to be dropped</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/styler/blob/master/R/style-guides.R'><code>R/style-guides.R</code></a></small>
    <div class="hidden name"><code>specify_transformers_drop.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>{styler}</code> can remove transformer functions safely removed from the list of
transformers to be applied on every <em>nest</em> with <code><a href='transformers_drop.html'>transformers_drop()</a></code> if the
tokens that trigger a manipulation of the parse data are absent in the text
to style. <code>specify_transformers_drop()</code> helps you specify these
conditions.</p>
    </div>

    <pre class="usage"><span class='fu'>specify_transformers_drop</span><span class='op'>(</span>
  spaces <span class='op'>=</span> <span class='cn'>NULL</span>,
  indention <span class='op'>=</span> <span class='cn'>NULL</span>,
  line_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,
  tokens <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>spaces, indention, line_breaks, tokens</th>
      <td><p>Each a list (or <code>NULL</code>) where
the name of each element is the concerning transformer, the value is an
unnamed vector with tokens that match the rule. See 'Examples'.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that the negative formulation (must be absent in order to be dropped)
means that when you add a new rule and you forget
to add a rule for when to drop it, it will not be dropped. If we required to
specify the complement (which tokens must be present for the transformer to
be kept), the transformer would be silently removed, which is less save.</p>
    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    

<p>It is the responsibility of the developer to ensure expected behavior, in
particular that:</p><ul>
<li><p>the name of the supplied dropping criteria matches the name of the
transformer function.</p></li>
<li><p>the dropping criteria (name + token) reflects correctly under which
circumstances the transformer does not have an impact on styling and can
therefore be safely removed without affecting the styling outcome.</p></li>
</ul>

<p>You can use the unexported function <code><a href='test_transformers_drop.html'>test_transformers_drop()</a></code> for some
checks.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>dropping</span> <span class='op'>&lt;-</span> <span class='fu'>specify_transformers_drop</span><span class='op'>(</span>
  spaces <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>remove_space_after_excl <span class='op'>=</span> <span class='st'>"'!'"</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='va'>style_guide</span> <span class='op'>&lt;-</span> <span class='fu'><a href='create_style_guide.html'>create_style_guide</a></span><span class='op'>(</span>
  space <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>remove_space_after_excl <span class='op'>=</span> <span class='fu'>styler</span><span class='fu'>:::</span><span class='va'>remove_space_after_excl</span><span class='op'>)</span>,
  transformers_drop <span class='op'>=</span> <span class='va'>dropping</span>
<span class='op'>)</span>
<span class='co'># transformers_drop() will remove the transformer when the code does not</span>
<span class='co'># contain an exclamation mark</span>
<span class='va'>style_guide_with_some_transformers_dropped</span> <span class='op'>&lt;-</span> <span class='fu'>styler</span><span class='fu'>:::</span><span class='fu'><a href='transformers_drop.html'>transformers_drop</a></span><span class='op'>(</span>
  <span class='st'>"x &lt;- 3;2"</span>, <span class='va'>style_guide</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/sets.html'>setdiff</a></span><span class='op'>(</span>
  <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>style_guide</span><span class='op'>$</span><span class='va'>space</span><span class='op'>)</span>,
  <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>style_guide_with_some_transformers_dropped</span><span class='op'>)</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "remove_space_after_excl"</div><div class='input'><span class='co'># note that dropping all transformers of a scope means that this scope</span>
<span class='co'># has an empty named list for this scope</span>
<span class='va'>style_guide_with_some_transformers_dropped</span><span class='op'>$</span><span class='va'>space</span>
</div><div class='output co'>#&gt; named list()</div><div class='input'><span class='co'># this is not the same as if this scope was never specified.</span>
<span class='fu'><a href='tidyverse_style.html'>tidyverse_style</a></span><span class='op'>(</span>scope <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>space</span>
</div><div class='output co'>#&gt; NULL</div><div class='input'><span class='co'># Hence, styler should check for length 0 to decide if a scope is present or</span>
<span class='co'># not, not via `is.null()` and we can use the `is.null()` check to see if</span>
<span class='co'># this scope was initially required by the user.</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://krlmlr.info'>Kirill Müller</a>, <a href='http://lorenzwalthert.netlify.com'>Lorenz Walthert</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '13580d327d8a7159f83a7cff178d2141',
    indexName: 'r-lib_styler',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


