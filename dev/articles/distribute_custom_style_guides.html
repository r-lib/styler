<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="styler">
<title>Distribute custom style guides • styler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Distribute custom style guides">
<meta property="og:description" content="styler">
<meta property="og:image" content="https://styler.r-lib.org/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">styler</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.10.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/styler.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/detect-alignment.html">Alignment detection</a>
    <a class="dropdown-item" href="../articles/strict.html">The effect of `strict = FALSE`</a>
    <a class="dropdown-item" href="../articles/third-party-integrations.html">Third-party integrations</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developers</h6>
    <a class="dropdown-item" href="../articles/remove_rules.html">Remove rules</a>
    <a class="dropdown-item" href="../articles/customizing_styler.html">Customizing styler</a>
    <a class="dropdown-item" href="../articles/distribute_custom_style_guides.html">Distribute custom style guides</a>
    <a class="dropdown-item" href="../articles/caching.html">Caching</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2017/12/styler-1.0.0/">Version 1.0.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2019/11/styler-1-2-0/">Version 1.2.0</a>
    <a class="external-link dropdown-item" href="https://lorenzwalthert.netlify.com/post/styler-1-3-0/">Version 1.3.0</a>
    <a class="external-link dropdown-item" href="https://lorenzwalthert.netlify.app/post/styler-1-4-0/">Version 1.4.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/styler/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Distribute custom style guides</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/styler/blob/HEAD/vignettes/distribute_custom_style_guides.Rmd" class="external-link"><code>vignettes/distribute_custom_style_guides.Rmd</code></a></small>
      <div class="d-none name"><code>distribute_custom_style_guides.Rmd</code></div>
    </div>

    
    
<p>This vignette describes how you can distribute your own style guide.
It builds on <code><a href="../articles/customizing_styler.html">vignette("customizing_styler")</a></code> and assumes you
understand how to create a style guide with
<code><a href="../reference/create_style_guide.html">create_style_guide()</a></code>.</p>
<div class="section level2">
<h2 id="reference-implementations">Reference implementations<a class="anchor" aria-label="anchor" href="#reference-implementations"></a>
</h2>
<p>There are a few packages that implement a third-party style guide
that are maintained by styler contributors:</p>
<ul>
<li>
<a href="https://github.com/lorenzwalthert/styler.nocomments" class="external-link">lorenzwalthert/styler.nocomments</a>:
Drops comments.</li>
<li>
<a href="https://github.com/lorenzwalthert/semicoloner" class="external-link">lorenzwalthert/semicoloner</a>:
Puts <code>;</code> at the end of lines.</li>
<li>
<a href="https://github.com/lorenzwalthert/oneliner" class="external-link">lorenzwalthert/oneliner</a>:
Puts all code on one line.</li>
<li>
<a href="https://github.com/mlr-org/styler.mlr" class="external-link">mlr-org/styler.mlr</a>:
Implements mlr’s style guide.</li>
</ul>
<p>Other available style guides include: - <a href="https://github.com/Robinlovelace/styler.equals" class="external-link">Robinlovelace/styler.equals</a>:
Tidyverse style but <code>=</code> instead of <code>&lt;-</code> for
assignment. - <a href="https://github.com/ropensci-review-tools/spaceout" class="external-link">ropensci-review-tools/spaceout</a>:
More spaces around braces. - <a href="https://github.com/gadenbuie/grkstyle" class="external-link">gadenbuie/grkstyle</a>:
Styles indention differently and allows to use tabs for it instead of
spaces.</p>
<p>To start out, you can use the <a href="https://github.com/lorenzwalthert/styler.yours" class="external-link">GitHub
Template</a> for third-party style guides that has already the right
directory structure and patterns described below in place.</p>
<p>You made one too? Please submit a PR to include it in the list.</p>
</div>
<div class="section level2">
<h2 id="design-patterns">Design patterns<a class="anchor" aria-label="anchor" href="#design-patterns"></a>
</h2>
<p>The style guides mentioned above follow best practices and can serve
as a good and rather minimal example of how to implement your own style
guide. Most importantly, these two packages:</p>
<ul>
<li>export all functions that {styler} exports, but the
<code>style</code> argument set to the custom style guide, plus custom
style guides. The advantage of this is that you can use that namespace
as a drop-in replacement for styler everywhere. In particular, if you
want to use the tidyverse style guide, use
<code><a href="../reference/style_pkg.html">styler::style_pkg()</a></code>, if you want to use a third-party style
guide, use the other namespace,
e.g. <code>styler.mlr::style_pkg()</code>
</li>
<li>depend on {styler} and use {styler} internals via <code>:::</code>.
These internals are subject to change without prior notice, which is why
the packages also have unit tests. Also note that importing internals
from another package means your package can’t be added to CRAN because
packages calling private methods from other packages don’t pass CRAN
checks. The only way around this would be to export some styler
internals, e.g. via a {styler.infra} package, but that would be a lot of
work on our side and therefore not currently on the roadmap. Another
alternative for developers might be to use <a href="https://github.com/wch/staticimports" class="external-link uri">https://github.com/wch/staticimports</a>, which we have not
explored so far.</li>
<li>implement unit tests following {styler}’s testing convention with
<code>*-in.R</code> and <code>*-out.R</code> files that are checked with
<code>styler:::test_collection()</code>.</li>
</ul>
<p>When creating a custom style guide and distribute it, we want to
quickly recall important arguments for <code><a href="../reference/create_style_guide.html">create_style_guide()</a></code>
from the docs:</p>
<ul>
<li>
<code>style_guide_name</code>, <code>style_guide_version</code> and
<code>more_specs_style_guide</code>: These arguments are relevant for
caching and make sure the user’s cache is invalidated on releasing a new
version. The documentation specifies how to set these arguments.</li>
<li>
<code>transformers_drop</code>: This argument can be created with
<code><a href="../reference/specify_transformers_drop.html">specify_transformers_drop()</a></code> to define conditions under
which a transformer can be removed from the style guide without an
effect on the result. This makes styler faster. For example, if you have
a transformer that removes the token <code>;</code> and replaces it with
a line break, it is only required if the code to style contains this
token. Since this will hardly be the case for people who adhere to the
tidyverse style guide, we formulate such a rule like this</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">styler</span><span class="fu">::</span><span class="fu"><a href="../reference/specify_transformers_drop.html">specify_transformers_drop</a></span><span class="op">(</span></span>
<span>  spaces <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>style_space_around_tilde <span class="op">=</span> <span class="st">"'~'"</span><span class="op">)</span>,</span>
<span>  tokens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>resolve_semicolon <span class="op">=</span> <span class="st">"';'"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; $space</span></span>
<span><span class="co">#&gt; $space$style_space_around_tilde</span></span>
<span><span class="co">#&gt; [1] "'~'"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $indention</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $line_break</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $token</span></span>
<span><span class="co">#&gt; $token$resolve_semicolon</span></span>
<span><span class="co">#&gt; [1] "';'"</span></span></code></pre></div>
<p>Where the name must correspond to the transformer function in
question and the value is the token that must be absent in order to drop
the transformer.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, <a href="https://lorenzwalthert.com" class="external-link">Lorenz Walthert</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
