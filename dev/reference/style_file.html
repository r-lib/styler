<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Style .R, .Rmd or .Rnw files — style_file • styler</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Style .R, .Rmd or .Rnw files — style_file" />
<meta property="og:description" content="Performs various substitutions in the files specified.
Carefully examine the results after running this function!" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">styler</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.3.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">End-users</li>
    <li>
      <a href="../articles/introducing_styler.html">An introduction to styler</a>
    </li>
    <li>
      <a href="../articles/detect-alignment.html">Alignment detection</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Developers</li>
    <li>
      <a href="../articles/caching.html">Caching</a>
    </li>
    <li>
      <a href="../articles/customizing_styler.html">Customizing styler</a>
    </li>
    <li>
      <a href="../articles/performance_improvements.html">Performance Improvements</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2017/12/styler-1.0.0/">Version 1.0.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2019/11/styler-1-2-0/">Version 1.2.0</a>
    </li>
    <li>
      <a href="https://lorenzwalthert.netlify.com/post/styler-1-3-0/">Version 1.3.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/styler/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Style <code>.R</code>, <code>.Rmd</code> or <code>.Rnw</code> files</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/styler/blob/master/R/ui-styling.R'><code>R/ui-styling.R</code></a></small>
    <div class="hidden name"><code>style_file.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs various substitutions in the files specified.
Carefully examine the results after running this function!</p>
    </div>

    <pre class="usage"><span class='fu'>style_file</span><span class='op'>(</span>
  <span class='va'>path</span>,
  <span class='va'>...</span>,
  style <span class='op'>=</span> <span class='va'>tidyverse_style</span>,
  transformers <span class='op'>=</span> <span class='fu'>style</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>,
  include_roxygen_examples <span class='op'>=</span> <span class='cn'>TRUE</span>,
  base_indention <span class='op'>=</span> <span class='fl'>0</span>,
  dry <span class='op'>=</span> <span class='st'>"off"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>A character vector with paths to files to style.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed on to the <code>style</code> function.</p></td>
    </tr>
    <tr>
      <th>style</th>
      <td><p>A function that creates a style guide to use, by default
<code><a href='tidyverse_style.html'>tidyverse_style()</a></code> (without the parentheses). Not used
further except to construct the argument <code>transformers</code>. See
<code><a href='style_guides.html'>style_guides()</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>transformers</th>
      <td><p>A set of transformer functions. This argument is most
conveniently constructed via the <code>style</code> argument and <code>...</code>. See
'Examples'.</p></td>
    </tr>
    <tr>
      <th>include_roxygen_examples</th>
      <td><p>Whether or not to style code in roxygen
examples.</p></td>
    </tr>
    <tr>
      <th>base_indention</th>
      <td><p>Integer scalar indicating by how many spaces the whole
output text should be indented. Note that this is not the same as splitting
by line and add a <code>base_indention</code> spaces before the code in the case
multi-line strings are present. See 'Examples'.</p></td>
    </tr>
    <tr>
      <th>dry</th>
      <td><p>To indicate whether styler should run in <em>dry</em> mode, i.e. refrain
from writing back to files .<code>"on"</code> and <code>"fail"</code> both don't write back, the
latter returns an error if the input code is not identical to the result
of styling. "off", the default, writes back if the input and output of
styling are not identical.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="encoding"><a class="anchor" href="#encoding"></a>Encoding</h2>

    

<p>UTF-8 encoding is assumed. Please convert your code to UTF-8 if necessary
before applying styler.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<p>Invisibly returns a data frame that indicates for each file considered for
styling whether or not it was actually changed (or would be changed when
<code>dry</code> is not "off").</p>
    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    

<p>This function overwrites files (if styling results in a change of the
code to be formatted and <code>dry = "off"</code>). It is strongly suggested to only
style files that are under version control or to create a backup copy.</p>
<p>We suggest to first style with <code>scope &lt; "tokens"</code> and inspect and commit
changes, because these changes are guaranteed to leave the abstract syntax
tree (AST) unchanged. See section 'Round trip validation' for details.</p>
<p>Then, we suggest to style with <code>scope = "tokens"</code> (if desired) and carefully
inspect the changes to make sure the AST is not changed in an unexpected way
that invalidates code.</p>
    <h2 class="hasAnchor" id="round-trip-validation"><a class="anchor" href="#round-trip-validation"></a>Round trip validation</h2>

    

<p>The following section describes when and how styling is guaranteed to
yield correct code.</p>
<p>If the style guide has <code>scope &lt; "tokens"</code>, no tokens are changed and the
abstract syntax tree (AST) should not change.
Hence, it is possible to validate the styling by comparing whether the parsed
expression before and after styling have the same AST.
This comparison omits comments. styler compares
error if the AST has changed through styling.</p>
<p>Note that with <code>scope = "tokens"</code> such a comparison is not conducted because
the AST might well change and such a change is intended. There is no way
styler can validate styling, that is why we inform the user to carefully
inspect the changes.</p>
<p>See section 'Warning' for a good strategy to apply styling safely.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other stylers: 
<code><a href='style_dir.html'>style_dir</a>()</code>,
<code><a href='style_pkg.html'>style_pkg</a>()</code>,
<code><a href='style_text.html'>style_text</a>()</code>,
<code><a href='styler_addins.html'>styler_addins</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># the following is identical but the former is more convenient:</span>
<span class='va'>file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span><span class='op'>(</span><span class='st'>"styler"</span>, fileext <span class='op'>=</span> <span class='st'>".R"</span><span class='op'>)</span>
<span class='fu'>xfun</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/xfun/man/read_utf8.html'>write_utf8</a></span><span class='op'>(</span><span class='st'>"1++1"</span>, <span class='va'>file</span><span class='op'>)</span>
<span class='fu'>style_file</span><span class='op'>(</span><span class='va'>file</span>, style <span class='op'>=</span> <span class='va'>tidyverse_style</span>, strict <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Styling  1  files:
#&gt;  /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmp8GOpMZ/styler7ad6f8dd9d5.R ℹ 
#&gt; ────────────────────────────────────────────────────────────────────────────────
#&gt; Status	Count	Legend 
#&gt; ✔ 	0	File unchanged.
#&gt; ℹ 	1	File changed.
#&gt; ✖ 	0	Styling threw an error.
#&gt; ────────────────────────────────────────────────────────────────────────────────
#&gt; Please review the changes carefully!</div><div class='input'><span class='fu'>style_file</span><span class='op'>(</span><span class='va'>file</span>, transformers <span class='op'>=</span> <span class='fu'><a href='tidyverse_style.html'>tidyverse_style</a></span><span class='op'>(</span>strict <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Styling  1  files:
#&gt;  /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmp8GOpMZ/styler7ad6f8dd9d5.R ✔ 
#&gt; ────────────────────────────────────────────────────────────────────────────────
#&gt; Status	Count	Legend 
#&gt; ✔ 	1	File unchanged.
#&gt; ℹ 	0	File changed.
#&gt; ✖ 	0	Styling threw an error.
#&gt; ────────────────────────────────────────────────────────────────────────────────</div><div class='input'><span class='fu'>xfun</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/xfun/man/read_utf8.html'>read_utf8</a></span><span class='op'>(</span><span class='va'>file</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "1 + +1"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/unlink.html'>unlink</a></span><span class='op'>(</span><span class='va'>file</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://krlmlr.info'>Kirill Müller</a>, <a href='http://lorenzwalthert.netlify.com'>Lorenz Walthert</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '13580d327d8a7159f83a7cff178d2141',
    indexName: 'r-lib_styler',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


