<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Specify which tokens must be absent for a transformer to be dropped — specify_transformers_drop • styler</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify which tokens must be absent for a transformer to be dropped — specify_transformers_drop"><meta name="description" content="{styler} can remove transformer functions safely removed from the list of
transformers to be applied on every nest with transformers_drop() if the
tokens that trigger a manipulation of the parse data are absent in the text
to style. specify_transformers_drop() helps you specify these
conditions."><meta property="og:description" content="{styler} can remove transformer functions safely removed from the list of
transformers to be applied on every nest with transformers_drop() if the
tokens that trigger a manipulation of the parse data are absent in the text
to style. specify_transformers_drop() helps you specify these
conditions."><meta property="og:image" content="https://styler.r-lib.org/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">styler</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.10.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/styler.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/detect-alignment.html">Alignment detection</a></li>
    <li><a class="dropdown-item" href="../articles/strict.html">The effect of `strict = FALSE`</a></li>
    <li><a class="dropdown-item" href="../articles/third-party-integrations.html">Third-party integrations</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developers</h6></li>
    <li><a class="dropdown-item" href="../articles/remove_rules.html">Remove rules</a></li>
    <li><a class="dropdown-item" href="../articles/customizing_styler.html">Customizing styler</a></li>
    <li><a class="dropdown-item" href="../articles/distribute_custom_style_guides.html">Distribute custom style guides</a></li>
    <li><a class="dropdown-item" href="../articles/caching.html">Caching</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2017/12/styler-1.0.0/">Version 1.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2019/11/styler-1-2-0/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://lorenzwalthert.netlify.com/post/styler-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://lorenzwalthert.netlify.app/post/styler-1-4-0/">Version 1.4.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/styler/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Specify which tokens must be absent for a transformer to be dropped</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/styler/blob/main/R/style-guides.R" class="external-link"><code>R/style-guides.R</code></a></small>
      <div class="d-none name"><code>specify_transformers_drop.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>{styler}</code> can remove transformer functions safely removed from the list of
transformers to be applied on every <em>nest</em> with <code><a href="transformers_drop.html">transformers_drop()</a></code> if the
tokens that trigger a manipulation of the parse data are absent in the text
to style. <code>specify_transformers_drop()</code> helps you specify these
conditions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">specify_transformers_drop</span><span class="op">(</span></span>
<span>  spaces <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  indention <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  line_breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tokens <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-spaces-indention-line-breaks-tokens">spaces, indention, line_breaks, tokens<a class="anchor" aria-label="anchor" href="#arg-spaces-indention-line-breaks-tokens"></a></dt>
<dd><p>Each a list (or <code>NULL</code>) where
the name of each element is the concerning transformer, the value is an
unnamed vector with tokens that match the rule. See 'Examples'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that the negative formulation (must be absent in order to be dropped)
means that when you add a new rule and you forget
to add a rule for when to drop it, it will not be dropped. If we required to
specify the complement (which tokens must be present for the transformer to
be kept), the transformer would be silently removed, which is less save.</p>
    </div>
    <div class="section level2">
    <h2 id="warning">Warning<a class="anchor" aria-label="anchor" href="#warning"></a></h2>


<p>It is the responsibility of the developer to ensure expected behavior, in
particular that:</p><ul><li><p>the name of the supplied dropping criteria matches the name of the
transformer function.</p></li>
<li><p>the dropping criteria (name + token) reflects correctly under which
circumstances the transformer does not have an impact on styling and can
therefore be safely removed without affecting the styling outcome.</p></li>
</ul><p>You can use the unexported function <code><a href="test_transformers_drop.html">test_transformers_drop()</a></code> for some
checks.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dropping</span> <span class="op">&lt;-</span> <span class="fu">specify_transformers_drop</span><span class="op">(</span></span></span>
<span class="r-in"><span>  spaces <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>remove_space_after_excl <span class="op">=</span> <span class="st">"'!'"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">style_guide</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_style_guide.html">create_style_guide</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  space <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>remove_space_after_excl <span class="op">=</span> <span class="fu">styler</span><span class="fu">:::</span><span class="va">remove_space_after_excl</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  transformers_drop <span class="op">=</span> <span class="va">dropping</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># transformers_drop() will remove the transformer when the code does not</span></span></span>
<span class="r-in"><span><span class="co"># contain an exclamation mark</span></span></span>
<span class="r-in"><span><span class="va">style_guide_with_some_transformers_dropped</span> <span class="op">&lt;-</span> <span class="fu">styler</span><span class="fu">:::</span><span class="fu"><a href="transformers_drop.html">transformers_drop</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x &lt;- 3;2"</span>, <span class="va">style_guide</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">style_guide</span><span class="op">$</span><span class="va">space</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">style_guide_with_some_transformers_dropped</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "remove_space_after_excl"</span>
<span class="r-in"><span><span class="co"># note that dropping all transformers of a scope means that this scope</span></span></span>
<span class="r-in"><span><span class="co"># has an empty named list for this scope</span></span></span>
<span class="r-in"><span><span class="va">style_guide_with_some_transformers_dropped</span><span class="op">$</span><span class="va">space</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> named list()</span>
<span class="r-in"><span><span class="co"># this is not the same as if this scope was never specified.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tidyverse_style.html">tidyverse_style</a></span><span class="op">(</span>scope <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span><span class="op">$</span><span class="va">space</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="co"># Hence, styler should check for length 0 to decide if a scope is present or</span></span></span>
<span class="r-in"><span><span class="co"># not, not via `is.null()` and we can use the `is.null()` check to see if</span></span></span>
<span class="r-in"><span><span class="co"># this scope was initially required by the user.</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, <a href="https://lorenzwalthert.com" class="external-link">Lorenz Walthert</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

